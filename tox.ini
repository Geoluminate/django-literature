[tox]
skipsdist = true
envlist =
    py39
    ; py{38,39,310,311}
    ; py{38,39,310,311}-django{32,40}

[gh-actions]
python =
    ; 3.8: py38
    3.9: py39
    ; 3.10: py310
    ; 3.11: py311

[testenv]
passenv = PYTHON_VERSION
allowlist_externals = poetry
commands =
    poetry install -v
    pytest --doctest-modules tests --cov --cov-config=pyproject.toml --cov-report=xml
    mypy

; setenv =
;     PYTHONPATH = {toxinidir}:{toxinidir}/literature

; passenv = PYTHON_VERSION
; allowlist_externals = poetry
; commands =
;     poetry install -v
;     coverage run --source literature runtests.py
;     mypy
; commands = coverage run --source literature runtests.py
; deps =
;     django-32: Django>=3.2
;     -r{toxinidir}/requirements.txt
; basepython =
;     py38: python3.8
;     py37: python3.7